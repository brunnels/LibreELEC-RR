From 828a5778384aedcec3efd01e9b4b986bac5f78e8 Mon Sep 17 00:00:00 2001
From: Rael Gugelmin Cunha <rael.gc@gmail.com>
Date: Wed, 9 May 2018 22:29:46 -0300
Subject: [PATCH 1/9] Skip mame bios/devices

---
 es-app/src/FileData.cpp   |  10 +
 es-app/src/FileData.h     |   1 +
 es-app/src/SystemData.cpp |   3 +-
 es-core/src/MameNames.cpp |  48 ++++-
 es-core/src/MameNames.h   |  14 +-
 resources/mamebioses.xml  |  70 +++++++
 resources/mamedevices.xml | 403 ++++++++++++++++++++++++++++++++++++++
 7 files changed, 537 insertions(+), 12 deletions(-)
 create mode 100644 resources/mamebioses.xml
 create mode 100644 resources/mamedevices.xml

diff --git a/es-app/src/FileData.cpp b/es-app/src/FileData.cpp
index 828f43f0c..13e8b1f54 100644
--- a/es-app/src/FileData.cpp
+++ b/es-app/src/FileData.cpp
@@ -196,6 +196,16 @@ std::string FileData::getKey() {
 	return getFileName();
 }
 
+const bool FileData::isArcadeAsset()
+{
+	const std::string stem = Utils::FileSystem::getStem(mPath);
+	return ( 
+		(mSystem && (mSystem->hasPlatformId(PlatformIds::ARCADE) || mSystem->hasPlatformId(PlatformIds::NEOGEO)))
+		&&
+		MameNames::getInstance()->isAsset(stem)
+	);
+}
+
 FileData* FileData::getSourceFileData()
 {
 	return this;
diff --git a/es-app/src/FileData.h b/es-app/src/FileData.h
index 343cb056f..63a9ce16e 100644
--- a/es-app/src/FileData.h
+++ b/es-app/src/FileData.h
@@ -61,6 +61,7 @@ class FileData
 	virtual inline void refreshMetadata() { return; };
 
 	virtual std::string getKey();
+	const bool isArcadeAsset();
 	inline std::string getFullPath() { return getPath(); };
 	inline std::string getFileName() { return Utils::FileSystem::getFileName(getPath()); };
 	virtual FileData* getSourceFileData();
diff --git a/es-app/src/SystemData.cpp b/es-app/src/SystemData.cpp
index 30790798e..a269ab384 100644
--- a/es-app/src/SystemData.cpp
+++ b/es-app/src/SystemData.cpp
@@ -112,7 +112,8 @@ void SystemData::populateFolder(FileData* folder)
 				continue;
 
 			FileData* newGame = new FileData(GAME, filePath, mEnvData, this);
-			folder->addChild(newGame);
+			if(!newGame->isArcadeAsset())
+			  folder->addChild(newGame);
 			isGame = true;
 		}
 
diff --git a/es-core/src/MameNames.cpp b/es-core/src/MameNames.cpp
index 78743b5dd..139e06d18 100644
--- a/es-core/src/MameNames.cpp
+++ b/es-core/src/MameNames.cpp
@@ -4,6 +4,7 @@
 #include "utils/FileSystemUtil.h"
 #include "Log.h"
 #include <pugixml/src/pugixml.hpp>
+#include <algorithm>
 #include <string.h>
 
 MameNames* MameNames::sInstance = nullptr;
@@ -36,27 +37,59 @@ MameNames* MameNames::getInstance()
 
 MameNames::MameNames()
 {
+	
+	// Read game names
 	std::string xmlpath = ResourceManager::getInstance()->getResourcePath(":/mamenames.xml");
-
 	if(!Utils::FileSystem::exists(xmlpath))
 		return;
-
 	LOG(LogInfo) << "Parsing XML file \"" << xmlpath << "\"...";
-
 	pugi::xml_document doc;
 	pugi::xml_parse_result result = doc.load_file(xmlpath.c_str());
-
 	if(!result)
 	{
 		LOG(LogError) << "Error parsing XML file \"" << xmlpath << "\"!\n	" << result.description();
 		return;
 	}
-
 	for(pugi::xml_node gameNode = doc.child("game"); gameNode; gameNode = gameNode.next_sibling("game"))
 	{
 		NamePair namePair = { gameNode.child("mamename").text().get(), gameNode.child("realname").text().get() };
 		mNamePairs.push_back(namePair);
 	}
+	
+ 	// Read bios
+ 	xmlpath = ResourceManager::getInstance()->getResourcePath(":/mamebioses.xml");
+ 	if(!Utils::FileSystem::exists(xmlpath))
+ 		return;
+ 	LOG(LogInfo) << "Parsing XML file \"" << xmlpath << "\"...";
+ 	result = doc.load_file(xmlpath.c_str());
+ 	if(!result)
+ 	{
+ 		LOG(LogError) << "Error parsing XML file \"" << xmlpath << "\"!\n	" << result.description();
+ 		return;
+ 	}
+ 	for(pugi::xml_node biosNode = doc.child("bios"); biosNode; biosNode = biosNode.next_sibling("bios"))
+ 	{
+ 		std::string bios = biosNode.text().get();
+ 		mMameAssets.push_back(bios);
+ 	}
+	
+ 	// Read devices
+ 	xmlpath = ResourceManager::getInstance()->getResourcePath(":/mamedevices.xml");
+ 	if(!Utils::FileSystem::exists(xmlpath))
+ 		return;
+ 	LOG(LogInfo) << "Parsing XML file \"" << xmlpath << "\"...";
+ 	result = doc.load_file(xmlpath.c_str());
+ 	if(!result)
+ 	{
+ 		LOG(LogError) << "Error parsing XML file \"" << xmlpath << "\"!\n	" << result.description();
+ 		return;
+ 	}
+ 	for(pugi::xml_node deviceNode = doc.child("device"); deviceNode; deviceNode = deviceNode.next_sibling("device"))
+ 	{
+ 		std::string device = deviceNode.text().get();
+ 		mMameAssets.push_back(device);
+ 	}
+
 
 } // MameNames
 
@@ -83,3 +116,8 @@ std::string MameNames::getRealName(const std::string& _mameName)
 	return _mameName;
 
 } // getRealName
+
+const bool MameNames::isAsset(const std::string& _mameName)
+{
+	return std::find(mMameAssets.begin(), mMameAssets.end(), _mameName) != mMameAssets.end();
+} // isAsset
diff --git a/es-core/src/MameNames.h b/es-core/src/MameNames.h
index 52fd71455..e1eac8520 100644
--- a/es-core/src/MameNames.h
+++ b/es-core/src/MameNames.h
@@ -9,10 +9,11 @@ class MameNames
 {
 public:
 
-	static void       init       ();
-	static void       deinit     ();
-	static MameNames* getInstance();
-	std::string       getRealName(const std::string& _mameName);
+	static void              init       ();
+	static void              deinit     ();
+	static MameNames*        getInstance();
+	const bool               isAsset    (const std::string& _mameName);
+	std::string              getRealName(const std::string& _mameName);
 
 private:
 
@@ -27,9 +28,10 @@ class MameNames
 	 MameNames();
 	~MameNames();
 
-	static MameNames* sInstance;
+	static MameNames*        sInstance;
 
-	namePairVector    mNamePairs;
+	namePairVector           mNamePairs;
+	std::vector<std::string> mMameAssets;
 
 }; // MameNames
 
diff --git a/resources/mamebioses.xml b/resources/mamebioses.xml
new file mode 100644
index 000000000..345f6a8e1
--- /dev/null
+++ b/resources/mamebioses.xml
@@ -0,0 +1,70 @@
+<bios>galgbios</bios>
+<bios>sys573</bios>
+<bios>taitotz</bios>
+<bios>coh1000w</bios>
+<bios>coh1002m</bios>
+<bios>triforce</bios>
+<bios>chihiro</bios>
+<bios>gp_110</bios>
+<bios>megatech</bios>
+<bios>sammymdl</bios>
+<bios>3dobios</bios>
+<bios>hod2bios</bios>
+<bios>coh3002c</bios>
+<bios>aristmk5</bios>
+<bios>f355bios</bios>
+<bios>bubsys</bios>
+<bios>aristmk6</bios>
+<bios>allied</bios>
+<bios>coh1001l</bios>
+<bios>cdibios</bios>
+<bios>tourvis</bios>
+<bios>hng64</bios>
+<bios>macsbios</bios>
+<bios>hikaru</bios>
+<bios>atarisy1</bios>
+<bios>airlbios</bios>
+<bios>v4bios</bios>
+<bios>sys246</bios>
+<bios>kviper</bios>
+<bios>iteagle</bios>
+<bios>cedmag</bios>
+<bios>shtzone</bios>
+<bios>gq863</bios>
+<bios>ar_bios</bios>
+<bios>crysbios</bios>
+<bios>pyson</bios>
+<bios>f355dlx</bios>
+<bios>gts1</bios>
+<bios>cubo</bios>
+<bios>neogeo</bios>
+<bios>coh1002e</bios>
+<bios>gts1s</bios>
+<bios>alg_bios</bios>
+<bios>sfcbox</bios>
+<bios>coh1000a</bios>
+<bios>maxaflex</bios>
+<bios>stvbios</bios>
+<bios>awbios</bios>
+<bios>konamigv</bios>
+<bios>coh1002v</bios>
+<bios>coh1000c</bios>
+<bios>isgsm</bios>
+<bios>naomigd</bios>
+<bios>konamigx</bios>
+<bios>su2000</bios>
+<bios>naomi</bios>
+<bios>nss</bios>
+<bios>skns</bios>
+<bios>coh1000t</bios>
+<bios>segasp</bios>
+<bios>pgm</bios>
+<bios>playch10</bios>
+<bios>coh3002t</bios>
+<bios>megaplay</bios>
+<bios>naomi2</bios>
+<bios>sys256</bios>
+<bios>decocass</bios>
+<bios>list.txt</bios>
+<bios>lindbios</bios>
+<bios>aleck64</bios>
\ No newline at end of file
diff --git a/resources/mamedevices.xml b/resources/mamedevices.xml
new file mode 100644
index 000000000..0e5c351c4
--- /dev/null
+++ b/resources/mamedevices.xml
@@ -0,0 +1,403 @@
+<device>cbm8000_hsg_a</device>
+<device>comx_eb</device>
+<device>kb_pcat84</device>
+<device>a2091</device>
+<device>votrax</device>
+<device>d9090</device>
+<device>isbc_215g</device>
+<device>amiga_ar2</device>
+<device>ti99_gkracker</device>
+<device>fc_disksys</device>
+<device>adam_ddp</device>
+<device>ms7004</device>
+<device>adam_prn</device>
+<device>aga_pc200</device>
+<device>cbm2_hrga</device>
+<device>keytronic_pc3270</device>
+<device>bbc_weddb3</device>
+<device>ti99_pcode</device>
+<device>ti99_myarcmem</device>
+<device>isa_ibm_mda</device>
+<device>cpc_transtape</device>
+<device>clgd542x</device>
+<device>a2ssc</device>
+<device>nsmdsad</device>
+<device>psx_cd</device>
+<device>abc99</device>
+<device>ks0066_f05</device>
+<device>nmk004</device>
+<device>kc_d004</device>
+<device>nb_spdq</device>
+<device>nb_wspt</device>
+<device>namcoc75</device>
+<device>ql_trump768</device>
+<device>pdc</device>
+<device>a2tmstho</device>
+<device>amiga_ar1</device>
+<device>s3virge</device>
+<device>comx_thm</device>
+<device>a2ulttrm</device>
+<device>mpu401</device>
+<device>coco_fdc_v11</device>
+<device>3c505</device>
+<device>dmv_k220</device>
+<device>dsp1leg</device>
+<device>tms32032</device>
+<device>c64_supercpu</device>
+<device>cgenie_fdc</device>
+<device>msx_cart_sfg01</device>
+<device>pet_superpet</device>
+<device>cga_poisk2</device>
+<device>namco51</device>
+<device>abc_fd2</device>
+<device>p1_hdc</device>
+<device>dmv_keyb</device>
+<device>nb_m2vc</device>
+<device>c8250lp</device>
+<device>d9060</device>
+<device>ql_trump</device>
+<device>iq151_video64</device>
+<device>comx_clm</device>
+<device>cbm2_hrgb</device>
+<device>fd4000</device>
+<device>abc830</device>
+<device>et4000</device>
+<device>bbc_acorn8271</device>
+<device>vp700</device>
+<device>abc832</device>
+<device>sfd1001</device>
+<device>s3_764</device>
+<device>bml3mp1805</device>
+<device>iq151_disc2</device>
+<device>pd3_pc16</device>
+<device>dm_clgd5430</device>
+<device>nb_48gc</device>
+<device>c4023</device>
+<device>amigakbd</device>
+<device>victor9k_fdc</device>
+<device>nb_vikbw</device>
+<device>qsound</device>
+<device>cpc_mf2</device>
+<device>comx_pl80</device>
+<device>slutprov</device>
+<device>wangpc_lic</device>
+<device>ldv1000</device>
+<device>pcx_video</device>
+<device>iq151_ms151a</device>
+<device>mm1kb</device>
+<device>dragon_fdc</device>
+<device>c1571</device>
+<device>k573mcr</device>
+<device>a2vulgld</device>
+<device>ql_sqboard256</device>
+<device>wangpc_rtc</device>
+<device>tgui9680</device>
+<device>serbox</device>
+<device>e01</device>
+<device>k573npu</device>
+<device>lux21056</device>
+<device>a2hsscsi</device>
+<device>cpc_dkspeech</device>
+<device>bbc_cumana1</device>
+<device>ym2608</device>
+<device>adam_spi</device>
+<device>kb_3270pc</device>
+<device>nb_m2hr</device>
+<device>abc838</device>
+<device>interpod</device>
+<device>c2040</device>
+<device>ql_gold</device>
+<device>grip</device>
+<device>sns_rom_sgb2</device>
+<device>fsd1</device>
+<device>newbrain_fdc</device>
+<device>c3040</device>
+<device>m24_kbd</device>
+<device>tvc_hbf</device>
+<device>cga</device>
+<device>ef9365</device>
+<device>betadisk</device>
+<device>fsd2</device>
+<device>cffa1</device>
+<device>cpc_smartwatch</device>
+<device>ql_sqmouse512</device>
+<device>a2swyft</device>
+<device>hp98035</device>
+<device>ec1841_0002</device>
+<device>vz_rs232</device>
+<device>m20_8086</device>
+<device>crvfdc02</device>
+<device>mie</device>
+<device>nb_aenet</device>
+<device>vz_rtty</device>
+<device>djdma</device>
+<device>iq151_video32</device>
+<device>a2ap16</device>
+<device>namcoc69</device>
+<device>comx_prn</device>
+<device>dsp1bleg</device>
+<device>e01s</device>
+<device>bbc_opus1770</device>
+<device>microdisc</device>
+<device>aha1542</device>
+<device>c1541ii</device>
+<device>xtide</device>
+<device>c64_fcc</device>
+<device>p1_rom</device>
+<device>pd3_lviw</device>
+<device>cpc_hd20</device>
+<device>electron_m2105</device>
+<device>isa_ibm_pgc</device>
+<device>c1526</device>
+<device>msm6222b</device>
+<device>bbc_opus2793</device>
+<device>uni800</device>
+<device>saa5050</device>
+<device>midssio</device>
+<device>jvs13551</device>
+<device>gic</device>
+<device>ex800</device>
+<device>a2vidtrm</device>
+<device>a2diskiing</device>
+<device>msx_moonsound</device>
+<device>ti99_rs232</device>
+<device>abc800kb</device>
+<device>simutrek</device>
+<device>a2iwm_flop</device>
+<device>nb_cb264</device>
+<device>stic</device>
+<device>ti99_speech</device>
+<device>tms32031</device>
+<device>namcoc74</device>
+<device>bbc_opus3</device>
+<device>comx_epr</device>
+<device>dsp2leg</device>
+<device>ibm_vga</device>
+<device>bsmt2000</device>
+<device>sed1200</device>
+<device>mach64</device>
+<device>nb_amc3b</device>
+<device>ep64_exdos</device>
+<device>wdxt_gen</device>
+<device>abc1600mac</device>
+<device>compiskb</device>
+<device>abc_mem</device>
+<device>hd44780_a00</device>
+<device>k573msu</device>
+<device>unidisk</device>
+<device>kc_d004gide</device>
+<device>laserfdc</device>
+<device>c2031</device>
+<device>ql_qdisc</device>
+<device>ti99_evpc</device>
+<device>fdc344</device>
+<device>a2ap16a</device>
+<device>dsp3leg</device>
+<device>namco54</device>
+<device>ql_sdisk</device>
+<device>c1541</device>
+<device>ql_qplus4</device>
+<device>ql_sqboard512</device>
+<device>pet_softbox</device>
+<device>pr8210</device>
+<device>mackbd</device>
+<device>seta11leg</device>
+<device>cuda</device>
+<device>ql_kdi</device>
+<device>cga_iskr1030m</device>
+<device>abc55</device>
+<device>msx_cart_bm_012</device>
+<device>side116</device>
+<device>nb_824gc</device>
+<device>ql_opdbm</device>
+<device>a2mouse</device>
+<device>abc834</device>
+<device>ms_natural</device>
+<device>at_keybc</device>
+<device>bbc_acorn1770</device>
+<device>fd2000</device>
+<device>pc1512kb</device>
+<device>a2scsi</device>
+<device>c8050fdc</device>
+<device>mshark</device>
+<device>c8050</device>
+<device>a590</device>
+<device>a2thunpl</device>
+<device>tiki100_8088</device>
+<device>electron_plus3</device>
+<device>pd3_mclr</device>
+<device>dmv_k231</device>
+<device>d2fdc</device>
+<device>aga</device>
+<device>dectalk_isa</device>
+<device>c1541pdc</device>
+<device>namcoc76</device>
+<device>x68k_cz6bs1</device>
+<device>s1410</device>
+<device>c1541dd</device>
+<device>p72</device>
+<device>msx_cart_sfg05</device>
+<device>dmv_k230</device>
+<device>indusgt</device>
+<device>c8280</device>
+<device>nb_rtpd</device>
+<device>sns_rom_sgb</device>
+<device>c2040fdc</device>
+<device>namcoc70</device>
+<device>cpc_ser</device>
+<device>pd3_30hr</device>
+<device>a2vtc1</device>
+<device>abc_hdc</device>
+<device>comx_fd</device>
+<device>pd3_c264</device>
+<device>c64_xl80</device>
+<device>tetriskr_cga</device>
+<device>k573dio</device>
+<device>wyse700</device>
+<device>a2aplcrd</device>
+<device>csd1</device>
+<device>lk201</device>
+<device>buddha</device>
+<device>cmdhd</device>
+<device>c1551</device>
+<device>p1_fdc</device>
+<device>dj2db</device>
+<device>ap2000</device>
+<device>sv603</device>
+<device>hardbox</device>
+<device>a2vulcan</device>
+<device>vic1515</device>
+<device>upd7220</device>
+<device>bml3kanji</device>
+<device>hp98034</device>
+<device>m50458</device>
+<device>namco50</device>
+<device>cpc_serams</device>
+<device>o2_voice</device>
+<device>a2zipdrv</device>
+<device>ql_mhd</device>
+<device>namco53</device>
+<device>abc1600mover</device>
+<device>nsmdsa</device>
+<device>vic1520</device>
+<device>c1541c</device>
+<device>wordpro</device>
+<device>a2corvus</device>
+<device>cpc_ddi1</device>
+<device>ql_qubide</device>
+<device>a2memexp</device>
+<device>sb16</device>
+<device>stereo_fx</device>
+<device>cga_iskr1031</device>
+<device>intv_voice</device>
+<device>pds_sefp</device>
+<device>ti99_hfdc</device>
+<device>ie15_keyboard</device>
+<device>bw2_ramcard</device>
+<device>adam_kb</device>
+<device>gfxultra</device>
+<device>ibm_mfc</device>
+<device>newbrain_eim</device>
+<device>dmv_k806</device>
+<device>ql_cumanafdi</device>
+<device>ql_sqmouse</device>
+<device>cbm8000_hsg_b</device>
+<device>c1570</device>
+<device>bbc_cumana2</device>
+<device>a2cffa2</device>
+<device>cpc_ssa1</device>
+<device>hdc_ec1841</device>
+<device>km035</device>
+<device>intv_ecs</device>
+<device>wd1002a_wx1</device>
+<device>c4040</device>
+<device>m24_z8000</device>
+<device>amiga_ar3</device>
+<device>dsp1leg_hi</device>
+<device>finalchs</device>
+<device>x820kb</device>
+<device>ql_trump512</device>
+<device>a2diskii</device>
+<device>namco52</device>
+<device>crvfdc01</device>
+<device>namco62</device>
+<device>c1581</device>
+<device>filetto_cga</device>
+<device>coco_fdc</device>
+<device>lx800</device>
+<device>nb_sp8s3</device>
+<device>spc1000_fdd_exp</device>
+<device>lux10828</device>
+<device>c64_mscr</device>
+<device>ti99_bwg</device>
+<device>alto2_cpu</device>
+<device>saa5052</device>
+<device>cga_mc1502</device>
+<device>pcd_kbd</device>
+<device>ega</device>
+<device>bml3mp1802</device>
+<device>seta10leg</device>
+<device>a2ramfac</device>
+<device>imi5000h</device>
+<device>wangpc_wdc</device>
+<device>s3virgedx</device>
+<device>c1563</device>
+<device>pcd_video</device>
+<device>a3fdc</device>
+<device>ql_mpfdi</device>
+<device>abc77</device>
+<device>fdcmag</device>
+<device>a1cass</device>
+<device>bbc_opus2791</device>
+<device>dsp4leg</device>
+<device>vic20_fe3</device>
+<device>jasmin</device>
+<device>c1541pd</device>
+<device>22vp931</device>
+<device>bbc_weddb2</device>
+<device>lx810l</device>
+<device>hd61830</device>
+<device>hdc</device>
+<device>kb_pcxt83</device>
+<device>a2vtc2</device>
+<device>segadimm</device>
+<device>c64_cs</device>
+<device>a2ultrme</device>
+<device>epson_tf20</device>
+<device>wangpckb</device>
+<device>a2pic</device>
+<device>minichif</device>
+<device>isa_hercules</device>
+<device>cga_m24</device>
+<device>c8250</device>
+<device>c64_nl10</device>
+<device>abcsio</device>
+<device>kb_iskr1030</device>
+<device>cpc_brunword4</device>
+<device>sx1541</device>
+<device>coco3_hdb1</device>
+<device>egret</device>
+<device>cp400_fdc</device>
+<device>nb_image</device>
+<device>sdtandy_fdc</device>
+<device>kb_ec1841</device>
+<device>k7659kb</device>
+<device>adam_fdc</device>
+<device>lux21046</device>
+<device>pc1640_iga</device>
+<device>t5182</device>
+<device>ec1840_0002</device>
+<device>iq151_minigraf</device>
+<device>epson_pf10</device>
+<device>victor9kb</device>
+<device>c1540</device>
+<device>a2cffa02</device>
+<device>m1comm</device>
+<device>ql_trump256</device>
+<device>list.txt</device>
+<device>dms3d2kp</device>
+<device>ti99_fdc</device>
+<device>dmv_k235</device>
+<device>mc1502_rom</device>
+<device>ql_pcmlqdi</device>
+<device>gfxultrp</device>
\ No newline at end of file

From c322e80aef7393111b810f093fb9ecb87e6d383c Mon Sep 17 00:00:00 2001
From: Rael Gugelmin Cunha <rael.gc@gmail.com>
Date: Thu, 10 May 2018 18:08:24 -0300
Subject: [PATCH 2/9] Requested fixes

---
 es-app/src/SystemData.cpp |   2 +-
 es-core/src/MameNames.cpp |  87 +++--
 es-core/src/MameNames.h   |  14 +-
 resources/mamebioses.xml  | 109 +++---
 resources/mamedevices.xml | 735 +++++++++++++++++++-------------------
 5 files changed, 482 insertions(+), 465 deletions(-)

diff --git a/es-app/src/SystemData.cpp b/es-app/src/SystemData.cpp
index a269ab384..6d4584074 100644
--- a/es-app/src/SystemData.cpp
+++ b/es-app/src/SystemData.cpp
@@ -113,7 +113,7 @@ void SystemData::populateFolder(FileData* folder)
 
 			FileData* newGame = new FileData(GAME, filePath, mEnvData, this);
 			if(!newGame->isArcadeAsset())
-			  folder->addChild(newGame);
+				folder->addChild(newGame);
 			isGame = true;
 		}
 
diff --git a/es-core/src/MameNames.cpp b/es-core/src/MameNames.cpp
index 139e06d18..addb8cee0 100644
--- a/es-core/src/MameNames.cpp
+++ b/es-core/src/MameNames.cpp
@@ -37,59 +37,73 @@ MameNames* MameNames::getInstance()
 
 MameNames::MameNames()
 {
-	
-	// Read game names
 	std::string xmlpath = ResourceManager::getInstance()->getResourcePath(":/mamenames.xml");
+
 	if(!Utils::FileSystem::exists(xmlpath))
 		return;
+
 	LOG(LogInfo) << "Parsing XML file \"" << xmlpath << "\"...";
+
 	pugi::xml_document doc;
 	pugi::xml_parse_result result = doc.load_file(xmlpath.c_str());
+
 	if(!result)
 	{
 		LOG(LogError) << "Error parsing XML file \"" << xmlpath << "\"!\n	" << result.description();
 		return;
 	}
+
 	for(pugi::xml_node gameNode = doc.child("game"); gameNode; gameNode = gameNode.next_sibling("game"))
 	{
 		NamePair namePair = { gameNode.child("mamename").text().get(), gameNode.child("realname").text().get() };
 		mNamePairs.push_back(namePair);
 	}
 	
- 	// Read bios
- 	xmlpath = ResourceManager::getInstance()->getResourcePath(":/mamebioses.xml");
- 	if(!Utils::FileSystem::exists(xmlpath))
- 		return;
- 	LOG(LogInfo) << "Parsing XML file \"" << xmlpath << "\"...";
- 	result = doc.load_file(xmlpath.c_str());
- 	if(!result)
- 	{
- 		LOG(LogError) << "Error parsing XML file \"" << xmlpath << "\"!\n	" << result.description();
- 		return;
- 	}
- 	for(pugi::xml_node biosNode = doc.child("bios"); biosNode; biosNode = biosNode.next_sibling("bios"))
- 	{
- 		std::string bios = biosNode.text().get();
- 		mMameAssets.push_back(bios);
- 	}
+	// Read bios
+	xmlpath = ResourceManager::getInstance()->getResourcePath(":/mamebioses.xml");
+ 	
+	if(!Utils::FileSystem::exists(xmlpath))
+		return;
+ 	
+	LOG(LogInfo) << "Parsing XML file \"" << xmlpath << "\"...";
+ 	
+	result = doc.load_file(xmlpath.c_str());
+ 	
+	if(!result)
+	{
+		LOG(LogError) << "Error parsing XML file \"" << xmlpath << "\"!\n	" << result.description();
+		return;
+	}
+ 	
+	for(pugi::xml_node biosNode = doc.child("bios"); biosNode; biosNode = biosNode.next_sibling("bios"))
+	{
+		std::string bios = biosNode.text().get();
+		mMameAssets.push_back(bios);
+	}
 	
- 	// Read devices
- 	xmlpath = ResourceManager::getInstance()->getResourcePath(":/mamedevices.xml");
- 	if(!Utils::FileSystem::exists(xmlpath))
- 		return;
- 	LOG(LogInfo) << "Parsing XML file \"" << xmlpath << "\"...";
- 	result = doc.load_file(xmlpath.c_str());
- 	if(!result)
- 	{
- 		LOG(LogError) << "Error parsing XML file \"" << xmlpath << "\"!\n	" << result.description();
- 		return;
- 	}
- 	for(pugi::xml_node deviceNode = doc.child("device"); deviceNode; deviceNode = deviceNode.next_sibling("device"))
- 	{
- 		std::string device = deviceNode.text().get();
- 		mMameAssets.push_back(device);
- 	}
-
+	// Read devices
+	xmlpath = ResourceManager::getInstance()->getResourcePath(":/mamedevices.xml");
+ 	
+	if(!Utils::FileSystem::exists(xmlpath))
+		return;
+ 	
+	LOG(LogInfo) << "Parsing XML file \"" << xmlpath << "\"...";
+ 	
+	result = doc.load_file(xmlpath.c_str());
+ 	
+	if(!result)
+	{
+		LOG(LogError) << "Error parsing XML file \"" << xmlpath << "\"!\n	" << result.description();
+		return;
+	}
+ 	
+	for(pugi::xml_node deviceNode = doc.child("device"); deviceNode; deviceNode = deviceNode.next_sibling("device"))
+	{
+		std::string device = deviceNode.text().get();
+		mMameAssets.push_back(device);
+	}
+	
+	std::sort(mMameAssets.begin(), mMameAssets.end());
 
 } // MameNames
 
@@ -119,5 +133,6 @@ std::string MameNames::getRealName(const std::string& _mameName)
 
 const bool MameNames::isAsset(const std::string& _mameName)
 {
-	return std::find(mMameAssets.begin(), mMameAssets.end(), _mameName) != mMameAssets.end();
+	return std::binary_search(mMameAssets.begin(), mMameAssets.end(), _mameName);
+	
 } // isAsset
diff --git a/es-core/src/MameNames.h b/es-core/src/MameNames.h
index e1eac8520..dfd4a44b6 100644
--- a/es-core/src/MameNames.h
+++ b/es-core/src/MameNames.h
@@ -9,11 +9,11 @@ class MameNames
 {
 public:
 
-	static void              init       ();
-	static void              deinit     ();
-	static MameNames*        getInstance();
-	const bool               isAsset    (const std::string& _mameName);
-	std::string              getRealName(const std::string& _mameName);
+	static void       init       ();
+	static void       deinit     ();
+	static MameNames* getInstance();
+	const bool isAsset(const std::string& _mameName);
+	std::string getRealName(const std::string& _mameName);
 
 private:
 
@@ -28,9 +28,9 @@ class MameNames
 	 MameNames();
 	~MameNames();
 
-	static MameNames*        sInstance;
+	static MameNames* sInstance;
 
-	namePairVector           mNamePairs;
+	namePairVector mNamePairs;
 	std::vector<std::string> mMameAssets;
 
 }; // MameNames
diff --git a/resources/mamebioses.xml b/resources/mamebioses.xml
index 345f6a8e1..0e1f6c638 100644
--- a/resources/mamebioses.xml
+++ b/resources/mamebioses.xml
@@ -1,70 +1,71 @@
-<bios>galgbios</bios>
-<bios>sys573</bios>
-<bios>taitotz</bios>
-<bios>coh1000w</bios>
-<bios>coh1002m</bios>
-<bios>triforce</bios>
-<bios>chihiro</bios>
-<bios>gp_110</bios>
-<bios>megatech</bios>
-<bios>sammymdl</bios>
 <bios>3dobios</bios>
-<bios>hod2bios</bios>
-<bios>coh3002c</bios>
+<bios>airlbios</bios>
+<bios>aleck64</bios>
+<bios>alg_bios</bios>
+<bios>allied</bios>
+<bios>ar_bios</bios>
 <bios>aristmk5</bios>
-<bios>f355bios</bios>
-<bios>bubsys</bios>
 <bios>aristmk6</bios>
-<bios>allied</bios>
-<bios>coh1001l</bios>
-<bios>cdibios</bios>
-<bios>tourvis</bios>
-<bios>hng64</bios>
-<bios>macsbios</bios>
-<bios>hikaru</bios>
 <bios>atarisy1</bios>
-<bios>airlbios</bios>
-<bios>v4bios</bios>
-<bios>sys246</bios>
-<bios>kviper</bios>
-<bios>iteagle</bios>
+<bios>awbios</bios>
+<bios>bubsys</bios>
+<bios>cdibios</bios>
 <bios>cedmag</bios>
-<bios>shtzone</bios>
-<bios>gq863</bios>
-<bios>ar_bios</bios>
+<bios>chihiro</bios>
+<bios>coh1000a</bios>
+<bios>coh1000c</bios>
+<bios>coh1000t</bios>
+<bios>coh1000w</bios>
+<bios>coh1001l</bios>
+<bios>coh1002e</bios>
+<bios>coh1002m</bios>
+<bios>coh1002v</bios>
+<bios>coh3002c</bios>
+<bios>coh3002t</bios>
 <bios>crysbios</bios>
-<bios>pyson</bios>
+<bios>cubo</bios>
+<bios>decocass</bios>
+<bios>f355bios</bios>
 <bios>f355dlx</bios>
+<bios>galgbios</bios>
+<bios>gp_110</bios>
+<bios>gq863</bios>
 <bios>gts1</bios>
-<bios>cubo</bios>
-<bios>neogeo</bios>
-<bios>coh1002e</bios>
 <bios>gts1s</bios>
-<bios>alg_bios</bios>
-<bios>sfcbox</bios>
-<bios>coh1000a</bios>
-<bios>maxaflex</bios>
-<bios>stvbios</bios>
-<bios>awbios</bios>
-<bios>konamigv</bios>
-<bios>coh1002v</bios>
-<bios>coh1000c</bios>
+<bios>hikaru</bios>
+<bios>hng64</bios>
+<bios>hod2bios</bios>
 <bios>isgsm</bios>
-<bios>naomigd</bios>
+<bios>iteagle</bios>
+<bios>konamigv</bios>
 <bios>konamigx</bios>
-<bios>su2000</bios>
+<bios>kviper</bios>
+<bios>lindbios</bios>
+<bios>list.txt</bios>
+<bios>macsbios</bios>
+<bios>maxaflex</bios>
+<bios>megaplay</bios>
+<bios>megatech</bios>
+<bios>naomi2</bios>
 <bios>naomi</bios>
+<bios>naomigd</bios>
+<bios>neogeo</bios>
 <bios>nss</bios>
-<bios>skns</bios>
-<bios>coh1000t</bios>
-<bios>segasp</bios>
 <bios>pgm</bios>
 <bios>playch10</bios>
-<bios>coh3002t</bios>
-<bios>megaplay</bios>
-<bios>naomi2</bios>
+<bios>pyson</bios>
+<bios>sammymdl</bios>
+<bios>segasp</bios>
+<bios>sfcbox</bios>
+<bios>shtzone</bios>
+<bios>skns</bios>
+<bios>stvbios</bios>
+<bios>su2000</bios>
+<bios>sys246</bios>
 <bios>sys256</bios>
-<bios>decocass</bios>
-<bios>list.txt</bios>
-<bios>lindbios</bios>
-<bios>aleck64</bios>
\ No newline at end of file
+<bios>sys573</bios>
+<bios>taitotz</bios>
+<bios>tourvis</bios>
+<bios>triforce</bios>
+<bios>v4bios</bios>
+
diff --git a/resources/mamedevices.xml b/resources/mamedevices.xml
index 0e5c351c4..c959462cc 100644
--- a/resources/mamedevices.xml
+++ b/resources/mamedevices.xml
@@ -1,403 +1,404 @@
-<device>cbm8000_hsg_a</device>
-<device>comx_eb</device>
-<device>kb_pcat84</device>
+<device>22vp931</device>
+<device>3c505</device>
+<device>a1cass</device>
 <device>a2091</device>
-<device>votrax</device>
-<device>d9090</device>
-<device>isbc_215g</device>
-<device>amiga_ar2</device>
-<device>ti99_gkracker</device>
-<device>fc_disksys</device>
-<device>adam_ddp</device>
-<device>ms7004</device>
-<device>adam_prn</device>
-<device>aga_pc200</device>
-<device>cbm2_hrga</device>
-<device>keytronic_pc3270</device>
-<device>bbc_weddb3</device>
-<device>ti99_pcode</device>
-<device>ti99_myarcmem</device>
-<device>isa_ibm_mda</device>
-<device>cpc_transtape</device>
-<device>clgd542x</device>
+<device>a2ap16</device>
+<device>a2ap16a</device>
+<device>a2aplcrd</device>
+<device>a2cffa02</device>
+<device>a2cffa2</device>
+<device>a2corvus</device>
+<device>a2diskii</device>
+<device>a2diskiing</device>
+<device>a2hsscsi</device>
+<device>a2iwm_flop</device>
+<device>a2memexp</device>
+<device>a2mouse</device>
+<device>a2pic</device>
+<device>a2ramfac</device>
+<device>a2scsi</device>
 <device>a2ssc</device>
-<device>nsmdsad</device>
-<device>psx_cd</device>
-<device>abc99</device>
-<device>ks0066_f05</device>
-<device>nmk004</device>
-<device>kc_d004</device>
-<device>nb_spdq</device>
-<device>nb_wspt</device>
-<device>namcoc75</device>
-<device>ql_trump768</device>
-<device>pdc</device>
+<device>a2swyft</device>
+<device>a2thunpl</device>
 <device>a2tmstho</device>
-<device>amiga_ar1</device>
-<device>s3virge</device>
-<device>comx_thm</device>
+<device>a2ultrme</device>
 <device>a2ulttrm</device>
-<device>mpu401</device>
-<device>coco_fdc_v11</device>
-<device>3c505</device>
-<device>dmv_k220</device>
-<device>dsp1leg</device>
-<device>tms32032</device>
-<device>c64_supercpu</device>
-<device>cgenie_fdc</device>
-<device>msx_cart_sfg01</device>
-<device>pet_superpet</device>
-<device>cga_poisk2</device>
-<device>namco51</device>
-<device>abc_fd2</device>
-<device>p1_hdc</device>
-<device>dmv_keyb</device>
-<device>nb_m2vc</device>
-<device>c8250lp</device>
-<device>d9060</device>
-<device>ql_trump</device>
-<device>iq151_video64</device>
-<device>comx_clm</device>
-<device>cbm2_hrgb</device>
-<device>fd4000</device>
+<device>a2vidtrm</device>
+<device>a2vtc1</device>
+<device>a2vtc2</device>
+<device>a2vulcan</device>
+<device>a2vulgld</device>
+<device>a2zipdrv</device>
+<device>a3fdc</device>
+<device>a590</device>
+<device>abc1600mac</device>
+<device>abc1600mover</device>
+<device>abc55</device>
+<device>abc77</device>
+<device>abc800kb</device>
 <device>abc830</device>
-<device>et4000</device>
-<device>bbc_acorn8271</device>
-<device>vp700</device>
 <device>abc832</device>
-<device>sfd1001</device>
-<device>s3_764</device>
-<device>bml3mp1805</device>
-<device>iq151_disc2</device>
-<device>pd3_pc16</device>
-<device>dm_clgd5430</device>
-<device>nb_48gc</device>
-<device>c4023</device>
+<device>abc834</device>
+<device>abc838</device>
+<device>abc99</device>
+<device>abc_fd2</device>
+<device>abc_hdc</device>
+<device>abc_mem</device>
+<device>abcsio</device>
+<device>adam_ddp</device>
+<device>adam_fdc</device>
+<device>adam_kb</device>
+<device>adam_prn</device>
+<device>adam_spi</device>
+<device>aga</device>
+<device>aga_pc200</device>
+<device>aha1542</device>
+<device>alto2_cpu</device>
+<device>amiga_ar1</device>
+<device>amiga_ar2</device>
+<device>amiga_ar3</device>
 <device>amigakbd</device>
-<device>victor9k_fdc</device>
-<device>nb_vikbw</device>
-<device>qsound</device>
-<device>cpc_mf2</device>
-<device>comx_pl80</device>
-<device>slutprov</device>
-<device>wangpc_lic</device>
-<device>ldv1000</device>
-<device>pcx_video</device>
-<device>iq151_ms151a</device>
-<device>mm1kb</device>
-<device>dragon_fdc</device>
-<device>c1571</device>
-<device>k573mcr</device>
-<device>a2vulgld</device>
-<device>ql_sqboard256</device>
-<device>wangpc_rtc</device>
-<device>tgui9680</device>
-<device>serbox</device>
-<device>e01</device>
-<device>k573npu</device>
-<device>lux21056</device>
-<device>a2hsscsi</device>
-<device>cpc_dkspeech</device>
+<device>ap2000</device>
+<device>at_keybc</device>
+<device>bbc_acorn1770</device>
+<device>bbc_acorn8271</device>
 <device>bbc_cumana1</device>
-<device>ym2608</device>
-<device>adam_spi</device>
-<device>kb_3270pc</device>
-<device>nb_m2hr</device>
-<device>abc838</device>
-<device>interpod</device>
+<device>bbc_cumana2</device>
+<device>bbc_opus1770</device>
+<device>bbc_opus2791</device>
+<device>bbc_opus2793</device>
+<device>bbc_opus3</device>
+<device>bbc_weddb2</device>
+<device>bbc_weddb3</device>
+<device>betadisk</device>
+<device>bml3kanji</device>
+<device>bml3mp1802</device>
+<device>bml3mp1805</device>
+<device>bsmt2000</device>
+<device>buddha</device>
+<device>bw2_ramcard</device>
+<device>c1526</device>
+<device>c1540</device>
+<device>c1541</device>
+<device>c1541c</device>
+<device>c1541dd</device>
+<device>c1541ii</device>
+<device>c1541pd</device>
+<device>c1541pdc</device>
+<device>c1551</device>
+<device>c1563</device>
+<device>c1570</device>
+<device>c1571</device>
+<device>c1581</device>
+<device>c2031</device>
 <device>c2040</device>
-<device>ql_gold</device>
-<device>grip</device>
-<device>sns_rom_sgb2</device>
-<device>fsd1</device>
-<device>newbrain_fdc</device>
+<device>c2040fdc</device>
 <device>c3040</device>
-<device>m24_kbd</device>
-<device>tvc_hbf</device>
-<device>cga</device>
-<device>ef9365</device>
-<device>betadisk</device>
-<device>fsd2</device>
+<device>c4023</device>
+<device>c4040</device>
+<device>c64_cs</device>
+<device>c64_fcc</device>
+<device>c64_mscr</device>
+<device>c64_nl10</device>
+<device>c64_supercpu</device>
+<device>c64_xl80</device>
+<device>c8050</device>
+<device>c8050fdc</device>
+<device>c8250</device>
+<device>c8250lp</device>
+<device>c8280</device>
+<device>cbm2_hrga</device>
+<device>cbm2_hrgb</device>
+<device>cbm8000_hsg_a</device>
+<device>cbm8000_hsg_b</device>
 <device>cffa1</device>
+<device>cga</device>
+<device>cga_iskr1030m</device>
+<device>cga_iskr1031</device>
+<device>cga_m24</device>
+<device>cga_mc1502</device>
+<device>cga_poisk2</device>
+<device>cgenie_fdc</device>
+<device>clgd542x</device>
+<device>cmdhd</device>
+<device>coco3_hdb1</device>
+<device>coco_fdc</device>
+<device>coco_fdc_v11</device>
+<device>compiskb</device>
+<device>comx_clm</device>
+<device>comx_eb</device>
+<device>comx_epr</device>
+<device>comx_fd</device>
+<device>comx_pl80</device>
+<device>comx_prn</device>
+<device>comx_thm</device>
+<device>cp400_fdc</device>
+<device>cpc_brunword4</device>
+<device>cpc_ddi1</device>
+<device>cpc_dkspeech</device>
+<device>cpc_hd20</device>
+<device>cpc_mf2</device>
+<device>cpc_ser</device>
+<device>cpc_serams</device>
 <device>cpc_smartwatch</device>
-<device>ql_sqmouse512</device>
-<device>a2swyft</device>
-<device>hp98035</device>
-<device>ec1841_0002</device>
-<device>vz_rs232</device>
-<device>m20_8086</device>
+<device>cpc_ssa1</device>
+<device>cpc_transtape</device>
+<device>crvfdc01</device>
 <device>crvfdc02</device>
-<device>mie</device>
-<device>nb_aenet</device>
-<device>vz_rtty</device>
+<device>csd1</device>
+<device>cuda</device>
+<device>d2fdc</device>
+<device>d9060</device>
+<device>d9090</device>
+<device>dectalk_isa</device>
+<device>dj2db</device>
 <device>djdma</device>
-<device>iq151_video32</device>
-<device>a2ap16</device>
-<device>namcoc69</device>
-<device>comx_prn</device>
+<device>dm_clgd5430</device>
+<device>dms3d2kp</device>
+<device>dmv_k220</device>
+<device>dmv_k230</device>
+<device>dmv_k231</device>
+<device>dmv_k235</device>
+<device>dmv_k806</device>
+<device>dmv_keyb</device>
+<device>dragon_fdc</device>
 <device>dsp1bleg</device>
+<device>dsp1leg</device>
+<device>dsp1leg_hi</device>
+<device>dsp2leg</device>
+<device>dsp3leg</device>
+<device>dsp4leg</device>
+<device>e01</device>
 <device>e01s</device>
-<device>bbc_opus1770</device>
-<device>microdisc</device>
-<device>aha1542</device>
-<device>c1541ii</device>
-<device>xtide</device>
-<device>c64_fcc</device>
-<device>p1_rom</device>
-<device>pd3_lviw</device>
-<device>cpc_hd20</device>
+<device>ec1840_0002</device>
+<device>ec1841_0002</device>
+<device>ef9365</device>
+<device>ega</device>
+<device>egret</device>
 <device>electron_m2105</device>
-<device>isa_ibm_pgc</device>
-<device>c1526</device>
-<device>msm6222b</device>
-<device>bbc_opus2793</device>
-<device>uni800</device>
-<device>saa5050</device>
-<device>midssio</device>
-<device>jvs13551</device>
-<device>gic</device>
-<device>ex800</device>
-<device>a2vidtrm</device>
-<device>a2diskiing</device>
-<device>msx_moonsound</device>
-<device>ti99_rs232</device>
-<device>abc800kb</device>
-<device>simutrek</device>
-<device>a2iwm_flop</device>
-<device>nb_cb264</device>
-<device>stic</device>
-<device>ti99_speech</device>
-<device>tms32031</device>
-<device>namcoc74</device>
-<device>bbc_opus3</device>
-<device>comx_epr</device>
-<device>dsp2leg</device>
-<device>ibm_vga</device>
-<device>bsmt2000</device>
-<device>sed1200</device>
-<device>mach64</device>
-<device>nb_amc3b</device>
+<device>electron_plus3</device>
 <device>ep64_exdos</device>
-<device>wdxt_gen</device>
-<device>abc1600mac</device>
-<device>compiskb</device>
-<device>abc_mem</device>
+<device>epson_pf10</device>
+<device>epson_tf20</device>
+<device>et4000</device>
+<device>ex800</device>
+<device>fc_disksys</device>
+<device>fd2000</device>
+<device>fd4000</device>
+<device>fdc344</device>
+<device>fdcmag</device>
+<device>filetto_cga</device>
+<device>finalchs</device>
+<device>fsd1</device>
+<device>fsd2</device>
+<device>gfxultra</device>
+<device>gfxultrp</device>
+<device>gic</device>
+<device>grip</device>
+<device>hardbox</device>
 <device>hd44780_a00</device>
+<device>hd61830</device>
+<device>hdc</device>
+<device>hdc_ec1841</device>
+<device>hp98034</device>
+<device>hp98035</device>
+<device>ibm_mfc</device>
+<device>ibm_vga</device>
+<device>ie15_keyboard</device>
+<device>imi5000h</device>
+<device>indusgt</device>
+<device>interpod</device>
+<device>intv_ecs</device>
+<device>intv_voice</device>
+<device>iq151_disc2</device>
+<device>iq151_minigraf</device>
+<device>iq151_ms151a</device>
+<device>iq151_video32</device>
+<device>iq151_video64</device>
+<device>isa_hercules</device>
+<device>isa_ibm_mda</device>
+<device>isa_ibm_pgc</device>
+<device>isbc_215g</device>
+<device>jasmin</device>
+<device>jvs13551</device>
+<device>k573dio</device>
+<device>k573mcr</device>
 <device>k573msu</device>
-<device>unidisk</device>
+<device>k573npu</device>
+<device>k7659kb</device>
+<device>kb_3270pc</device>
+<device>kb_ec1841</device>
+<device>kb_iskr1030</device>
+<device>kb_pcat84</device>
+<device>kb_pcxt83</device>
+<device>kc_d004</device>
 <device>kc_d004gide</device>
+<device>keytronic_pc3270</device>
+<device>km035</device>
+<device>ks0066_f05</device>
 <device>laserfdc</device>
-<device>c2031</device>
-<device>ql_qdisc</device>
-<device>ti99_evpc</device>
-<device>fdc344</device>
-<device>a2ap16a</device>
-<device>dsp3leg</device>
-<device>namco54</device>
-<device>ql_sdisk</device>
-<device>c1541</device>
-<device>ql_qplus4</device>
-<device>ql_sqboard512</device>
-<device>pet_softbox</device>
-<device>pr8210</device>
-<device>mackbd</device>
-<device>seta11leg</device>
-<device>cuda</device>
-<device>ql_kdi</device>
-<device>cga_iskr1030m</device>
-<device>abc55</device>
-<device>msx_cart_bm_012</device>
-<device>side116</device>
-<device>nb_824gc</device>
-<device>ql_opdbm</device>
-<device>a2mouse</device>
-<device>abc834</device>
-<device>ms_natural</device>
-<device>at_keybc</device>
-<device>bbc_acorn1770</device>
-<device>fd2000</device>
-<device>pc1512kb</device>
-<device>a2scsi</device>
-<device>c8050fdc</device>
-<device>mshark</device>
-<device>c8050</device>
-<device>a590</device>
-<device>a2thunpl</device>
-<device>tiki100_8088</device>
-<device>electron_plus3</device>
-<device>pd3_mclr</device>
-<device>dmv_k231</device>
-<device>d2fdc</device>
-<device>aga</device>
-<device>dectalk_isa</device>
-<device>c1541pdc</device>
-<device>namcoc76</device>
-<device>x68k_cz6bs1</device>
-<device>s1410</device>
-<device>c1541dd</device>
-<device>p72</device>
-<device>msx_cart_sfg05</device>
-<device>dmv_k230</device>
-<device>indusgt</device>
-<device>c8280</device>
-<device>nb_rtpd</device>
-<device>sns_rom_sgb</device>
-<device>c2040fdc</device>
-<device>namcoc70</device>
-<device>cpc_ser</device>
-<device>pd3_30hr</device>
-<device>a2vtc1</device>
-<device>abc_hdc</device>
-<device>comx_fd</device>
-<device>pd3_c264</device>
-<device>c64_xl80</device>
-<device>tetriskr_cga</device>
-<device>k573dio</device>
-<device>wyse700</device>
-<device>a2aplcrd</device>
-<device>csd1</device>
+<device>ldv1000</device>
+<device>list.txt</device>
 <device>lk201</device>
-<device>buddha</device>
-<device>cmdhd</device>
-<device>c1551</device>
-<device>p1_fdc</device>
-<device>dj2db</device>
-<device>ap2000</device>
-<device>sv603</device>
-<device>hardbox</device>
-<device>a2vulcan</device>
-<device>vic1515</device>
-<device>upd7220</device>
-<device>bml3kanji</device>
-<device>hp98034</device>
+<device>lux10828</device>
+<device>lux21046</device>
+<device>lux21056</device>
+<device>lx800</device>
+<device>lx810l</device>
+<device>m1comm</device>
+<device>m20_8086</device>
+<device>m24_kbd</device>
+<device>m24_z8000</device>
 <device>m50458</device>
+<device>mach64</device>
+<device>mackbd</device>
+<device>mc1502_rom</device>
+<device>microdisc</device>
+<device>midssio</device>
+<device>mie</device>
+<device>minichif</device>
+<device>mm1kb</device>
+<device>mpu401</device>
+<device>ms7004</device>
+<device>ms_natural</device>
+<device>mshark</device>
+<device>msm6222b</device>
+<device>msx_cart_bm_012</device>
+<device>msx_cart_sfg01</device>
+<device>msx_cart_sfg05</device>
+<device>msx_moonsound</device>
 <device>namco50</device>
-<device>cpc_serams</device>
-<device>o2_voice</device>
-<device>a2zipdrv</device>
-<device>ql_mhd</device>
+<device>namco51</device>
+<device>namco52</device>
 <device>namco53</device>
-<device>abc1600mover</device>
+<device>namco54</device>
+<device>namco62</device>
+<device>namcoc69</device>
+<device>namcoc70</device>
+<device>namcoc74</device>
+<device>namcoc75</device>
+<device>namcoc76</device>
+<device>nb_48gc</device>
+<device>nb_824gc</device>
+<device>nb_aenet</device>
+<device>nb_amc3b</device>
+<device>nb_cb264</device>
+<device>nb_image</device>
+<device>nb_m2hr</device>
+<device>nb_m2vc</device>
+<device>nb_rtpd</device>
+<device>nb_sp8s3</device>
+<device>nb_spdq</device>
+<device>nb_vikbw</device>
+<device>nb_wspt</device>
+<device>newbrain_eim</device>
+<device>newbrain_fdc</device>
+<device>nmk004</device>
 <device>nsmdsa</device>
-<device>vic1520</device>
-<device>c1541c</device>
-<device>wordpro</device>
-<device>a2corvus</device>
-<device>cpc_ddi1</device>
-<device>ql_qubide</device>
-<device>a2memexp</device>
-<device>sb16</device>
-<device>stereo_fx</device>
-<device>cga_iskr1031</device>
-<device>intv_voice</device>
+<device>nsmdsad</device>
+<device>o2_voice</device>
+<device>p1_fdc</device>
+<device>p1_hdc</device>
+<device>p1_rom</device>
+<device>p72</device>
+<device>pc1512kb</device>
+<device>pc1640_iga</device>
+<device>pcd_kbd</device>
+<device>pcd_video</device>
+<device>pcx_video</device>
+<device>pd3_30hr</device>
+<device>pd3_c264</device>
+<device>pd3_lviw</device>
+<device>pd3_mclr</device>
+<device>pd3_pc16</device>
+<device>pdc</device>
 <device>pds_sefp</device>
-<device>ti99_hfdc</device>
-<device>ie15_keyboard</device>
-<device>bw2_ramcard</device>
-<device>adam_kb</device>
-<device>gfxultra</device>
-<device>ibm_mfc</device>
-<device>newbrain_eim</device>
-<device>dmv_k806</device>
+<device>pet_softbox</device>
+<device>pet_superpet</device>
+<device>pr8210</device>
+<device>psx_cd</device>
 <device>ql_cumanafdi</device>
+<device>ql_gold</device>
+<device>ql_kdi</device>
+<device>ql_mhd</device>
+<device>ql_mpfdi</device>
+<device>ql_opdbm</device>
+<device>ql_pcmlqdi</device>
+<device>ql_qdisc</device>
+<device>ql_qplus4</device>
+<device>ql_qubide</device>
+<device>ql_sdisk</device>
+<device>ql_sqboard256</device>
+<device>ql_sqboard512</device>
+<device>ql_sqmouse512</device>
 <device>ql_sqmouse</device>
-<device>cbm8000_hsg_b</device>
-<device>c1570</device>
-<device>bbc_cumana2</device>
-<device>a2cffa2</device>
-<device>cpc_ssa1</device>
-<device>hdc_ec1841</device>
-<device>km035</device>
-<device>intv_ecs</device>
-<device>wd1002a_wx1</device>
-<device>c4040</device>
-<device>m24_z8000</device>
-<device>amiga_ar3</device>
-<device>dsp1leg_hi</device>
-<device>finalchs</device>
-<device>x820kb</device>
+<device>ql_trump256</device>
 <device>ql_trump512</device>
-<device>a2diskii</device>
-<device>namco52</device>
-<device>crvfdc01</device>
-<device>namco62</device>
-<device>c1581</device>
-<device>filetto_cga</device>
-<device>coco_fdc</device>
-<device>lx800</device>
-<device>nb_sp8s3</device>
-<device>spc1000_fdd_exp</device>
-<device>lux10828</device>
-<device>c64_mscr</device>
-<device>ti99_bwg</device>
-<device>alto2_cpu</device>
-<device>saa5052</device>
-<device>cga_mc1502</device>
-<device>pcd_kbd</device>
-<device>ega</device>
-<device>bml3mp1802</device>
-<device>seta10leg</device>
-<device>a2ramfac</device>
-<device>imi5000h</device>
-<device>wangpc_wdc</device>
+<device>ql_trump768</device>
+<device>ql_trump</device>
+<device>qsound</device>
+<device>s1410</device>
+<device>s3_764</device>
+<device>s3virge</device>
 <device>s3virgedx</device>
-<device>c1563</device>
-<device>pcd_video</device>
-<device>a3fdc</device>
-<device>ql_mpfdi</device>
-<device>abc77</device>
-<device>fdcmag</device>
-<device>a1cass</device>
-<device>bbc_opus2791</device>
-<device>dsp4leg</device>
-<device>vic20_fe3</device>
-<device>jasmin</device>
-<device>c1541pd</device>
-<device>22vp931</device>
-<device>bbc_weddb2</device>
-<device>lx810l</device>
-<device>hd61830</device>
-<device>hdc</device>
-<device>kb_pcxt83</device>
-<device>a2vtc2</device>
+<device>saa5050</device>
+<device>saa5052</device>
+<device>sb16</device>
+<device>sdtandy_fdc</device>
+<device>sed1200</device>
 <device>segadimm</device>
-<device>c64_cs</device>
-<device>a2ultrme</device>
-<device>epson_tf20</device>
-<device>wangpckb</device>
-<device>a2pic</device>
-<device>minichif</device>
-<device>isa_hercules</device>
-<device>cga_m24</device>
-<device>c8250</device>
-<device>c64_nl10</device>
-<device>abcsio</device>
-<device>kb_iskr1030</device>
-<device>cpc_brunword4</device>
+<device>serbox</device>
+<device>seta10leg</device>
+<device>seta11leg</device>
+<device>sfd1001</device>
+<device>side116</device>
+<device>simutrek</device>
+<device>slutprov</device>
+<device>sns_rom_sgb2</device>
+<device>sns_rom_sgb</device>
+<device>spc1000_fdd_exp</device>
+<device>stereo_fx</device>
+<device>stic</device>
+<device>sv603</device>
 <device>sx1541</device>
-<device>coco3_hdb1</device>
-<device>egret</device>
-<device>cp400_fdc</device>
-<device>nb_image</device>
-<device>sdtandy_fdc</device>
-<device>kb_ec1841</device>
-<device>k7659kb</device>
-<device>adam_fdc</device>
-<device>lux21046</device>
-<device>pc1640_iga</device>
 <device>t5182</device>
-<device>ec1840_0002</device>
-<device>iq151_minigraf</device>
-<device>epson_pf10</device>
-<device>victor9kb</device>
-<device>c1540</device>
-<device>a2cffa02</device>
-<device>m1comm</device>
-<device>ql_trump256</device>
-<device>list.txt</device>
-<device>dms3d2kp</device>
+<device>tetriskr_cga</device>
+<device>tgui9680</device>
+<device>ti99_bwg</device>
+<device>ti99_evpc</device>
 <device>ti99_fdc</device>
-<device>dmv_k235</device>
-<device>mc1502_rom</device>
-<device>ql_pcmlqdi</device>
-<device>gfxultrp</device>
\ No newline at end of file
+<device>ti99_gkracker</device>
+<device>ti99_hfdc</device>
+<device>ti99_myarcmem</device>
+<device>ti99_pcode</device>
+<device>ti99_rs232</device>
+<device>ti99_speech</device>
+<device>tiki100_8088</device>
+<device>tms32031</device>
+<device>tms32032</device>
+<device>tvc_hbf</device>
+<device>uni800</device>
+<device>unidisk</device>
+<device>upd7220</device>
+<device>vic1515</device>
+<device>vic1520</device>
+<device>vic20_fe3</device>
+<device>victor9k_fdc</device>
+<device>victor9kb</device>
+<device>votrax</device>
+<device>vp700</device>
+<device>vz_rs232</device>
+<device>vz_rtty</device>
+<device>wangpc_lic</device>
+<device>wangpc_rtc</device>
+<device>wangpc_wdc</device>
+<device>wangpckb</device>
+<device>wd1002a_wx1</device>
+<device>wdxt_gen</device>
+<device>wordpro</device>
+<device>wyse700</device>
+<device>x68k_cz6bs1</device>
+<device>x820kb</device>
+<device>xtide</device>
+<device>ym2608</device>
+

From c38c00666f856841f0e69df612ecdd6f28ae6730 Mon Sep 17 00:00:00 2001
From: Rael Gugelmin Cunha <rael.gc@gmail.com>
Date: Fri, 11 May 2018 15:42:49 -0300
Subject: [PATCH 3/9] Separating mame bios and devices checking

---
 es-app/src/FileData.cpp   |  2 +-
 es-core/src/MameNames.cpp | 18 +++++++++++-------
 es-core/src/MameNames.h   |  6 ++++--
 3 files changed, 16 insertions(+), 10 deletions(-)

diff --git a/es-app/src/FileData.cpp b/es-app/src/FileData.cpp
index 13e8b1f54..0f699ca3a 100644
--- a/es-app/src/FileData.cpp
+++ b/es-app/src/FileData.cpp
@@ -202,7 +202,7 @@ const bool FileData::isArcadeAsset()
 	return ( 
 		(mSystem && (mSystem->hasPlatformId(PlatformIds::ARCADE) || mSystem->hasPlatformId(PlatformIds::NEOGEO)))
 		&&
-		MameNames::getInstance()->isAsset(stem)
+		(MameNames::getInstance()->isBios(stem) || MameNames::getInstance()->isDevice(stem))
 	);
 }
 
diff --git a/es-core/src/MameNames.cpp b/es-core/src/MameNames.cpp
index addb8cee0..f1e7dfc57 100644
--- a/es-core/src/MameNames.cpp
+++ b/es-core/src/MameNames.cpp
@@ -78,7 +78,7 @@ MameNames::MameNames()
 	for(pugi::xml_node biosNode = doc.child("bios"); biosNode; biosNode = biosNode.next_sibling("bios"))
 	{
 		std::string bios = biosNode.text().get();
-		mMameAssets.push_back(bios);
+		mMameBioses.push_back(bios);
 	}
 	
 	// Read devices
@@ -100,10 +100,8 @@ MameNames::MameNames()
 	for(pugi::xml_node deviceNode = doc.child("device"); deviceNode; deviceNode = deviceNode.next_sibling("device"))
 	{
 		std::string device = deviceNode.text().get();
-		mMameAssets.push_back(device);
+		mMameDevices.push_back(device);
 	}
-	
-	std::sort(mMameAssets.begin(), mMameAssets.end());
 
 } // MameNames
 
@@ -131,8 +129,14 @@ std::string MameNames::getRealName(const std::string& _mameName)
 
 } // getRealName
 
-const bool MameNames::isAsset(const std::string& _mameName)
+const bool MameNames::isBios(const std::string& _biosName)
+{
+	return std::binary_search(mMameBioses.begin(), mMameBioses.end(), _biosName);
+	
+} // isBios
+
+const bool MameNames::isDevice(const std::string& _deviceName)
 {
-	return std::binary_search(mMameAssets.begin(), mMameAssets.end(), _mameName);
+	return std::binary_search(mMameDevices.begin(), mMameDevices.end(), _deviceName);
 	
-} // isAsset
+} // isDevice
diff --git a/es-core/src/MameNames.h b/es-core/src/MameNames.h
index dfd4a44b6..04abedb51 100644
--- a/es-core/src/MameNames.h
+++ b/es-core/src/MameNames.h
@@ -12,7 +12,8 @@ class MameNames
 	static void       init       ();
 	static void       deinit     ();
 	static MameNames* getInstance();
-	const bool isAsset(const std::string& _mameName);
+	const bool isBios(const std::string& _biosName);
+	const bool isDevice(const std::string& _deviceName);
 	std::string getRealName(const std::string& _mameName);
 
 private:
@@ -31,7 +32,8 @@ class MameNames
 	static MameNames* sInstance;
 
 	namePairVector mNamePairs;
-	std::vector<std::string> mMameAssets;
+	std::vector<std::string> mMameBioses;
+	std::vector<std::string> mMameDevices;
 
 }; // MameNames
 

From 746aebb6d4bab1a6ac12323233ee8cede1f51320 Mon Sep 17 00:00:00 2001
From: Rael Gugelmin Cunha <rael.gc@gmail.com>
Date: Tue, 26 Jun 2018 07:57:27 -0300
Subject: [PATCH 4/9] Removing algorithm

---
 es-core/src/MameNames.cpp | 26 ++++++++++++++++++++++----
 es-core/src/MameNames.h   |  2 ++
 2 files changed, 24 insertions(+), 4 deletions(-)

diff --git a/es-core/src/MameNames.cpp b/es-core/src/MameNames.cpp
index f1e7dfc57..7821af366 100644
--- a/es-core/src/MameNames.cpp
+++ b/es-core/src/MameNames.cpp
@@ -4,7 +4,6 @@
 #include "utils/FileSystemUtil.h"
 #include "Log.h"
 #include <pugixml/src/pugixml.hpp>
-#include <algorithm>
 #include <string.h>
 
 MameNames* MameNames::sInstance = nullptr;
@@ -131,12 +130,31 @@ std::string MameNames::getRealName(const std::string& _mameName)
 
 const bool MameNames::isBios(const std::string& _biosName)
 {
-	return std::binary_search(mMameBioses.begin(), mMameBioses.end(), _biosName);
-	
+	return MameNames::find(mMameBioses, _biosName);
+
 } // isBios
 
 const bool MameNames::isDevice(const std::string& _deviceName)
 {
-	return std::binary_search(mMameDevices.begin(), mMameDevices.end(), _deviceName);
+	return MameNames::find(mMameDevices, _deviceName);
 	
 } // isDevice
+
+const bool MameNames::find(std::vector<std::string> devices, const std::string& name)
+{
+	size_t start = 0;
+	size_t end   = devices.size();
+
+	while(start < end)
+	{
+		const size_t index   = (start + end) / 2;
+		const int    compare = strcmp(devices[index].c_str(), name.c_str());
+
+		if(compare < 0)       start = index + 1;
+		else if( compare > 0) end   = index;
+		else                  return true;
+	}
+
+	return false;
+	
+}
diff --git a/es-core/src/MameNames.h b/es-core/src/MameNames.h
index 04abedb51..f109b9cea 100644
--- a/es-core/src/MameNames.h
+++ b/es-core/src/MameNames.h
@@ -34,6 +34,8 @@ class MameNames
 	namePairVector mNamePairs;
 	std::vector<std::string> mMameBioses;
 	std::vector<std::string> mMameDevices;
+	
+	const bool find(const std::vector<std::string> devices, const std::string& name);
 
 }; // MameNames
 

From 3e730381e9ab0aa8a5d7d028f03ec904088d0f20 Mon Sep 17 00:00:00 2001
From: Rael Gugelmin Cunha <rael.gc@gmail.com>
Date: Fri, 20 Jul 2018 20:30:46 -0300
Subject: [PATCH 5/9] Preventing arcade assets from gamelist.xml to be added to
 view

---
 es-app/src/Gamelist.cpp   | 11 ++++++++---
 es-app/src/SystemData.cpp |  6 +++++-
 es-core/src/MameNames.h   |  6 +++---
 3 files changed, 16 insertions(+), 7 deletions(-)

diff --git a/es-app/src/Gamelist.cpp b/es-app/src/Gamelist.cpp
index 784c28125..76ad1dc71 100644
--- a/es-app/src/Gamelist.cpp
+++ b/es-app/src/Gamelist.cpp
@@ -48,7 +48,12 @@ FileData* findOrCreateFile(SystemData* system, const std::string& path, FileType
 			}
 
 			FileData* file = new FileData(type, path, system->getSystemEnvData(), system);
-			treeNode->addChild(file);
+
+			// skipping arcade assets from gamelist
+			if(!treeNode->isArcadeAsset())
+			{
+				treeNode->addChild(file);
+			}
 			return file;
 		}
 
@@ -128,11 +133,11 @@ void parseGamelist(SystemData* system)
 			//load the metadata
 			std::string defaultName = file->metadata.get("name");
 			file->metadata = MetaDataList::createFromXML(GAME_METADATA, fileNode, relativeTo);
-
+			
 			//make sure name gets set if one didn't exist
 			if(file->metadata.get("name").empty())
 				file->metadata.set("name", defaultName);
-
+			
 			file->metadata.resetChangedFlag();
 		}
 	}
diff --git a/es-app/src/SystemData.cpp b/es-app/src/SystemData.cpp
index 6d4584074..9400284b6 100644
--- a/es-app/src/SystemData.cpp
+++ b/es-app/src/SystemData.cpp
@@ -112,9 +112,13 @@ void SystemData::populateFolder(FileData* folder)
 				continue;
 
 			FileData* newGame = new FileData(GAME, filePath, mEnvData, this);
+
+			// preventing new arcade assets to be added
 			if(!newGame->isArcadeAsset())
+			{
 				folder->addChild(newGame);
-			isGame = true;
+				isGame = true;				
+			}
 		}
 
 		//add directories that also do not match an extension as folders
diff --git a/es-core/src/MameNames.h b/es-core/src/MameNames.h
index f109b9cea..6f0ae2181 100644
--- a/es-core/src/MameNames.h
+++ b/es-core/src/MameNames.h
@@ -12,9 +12,9 @@ class MameNames
 	static void       init       ();
 	static void       deinit     ();
 	static MameNames* getInstance();
-	const bool isBios(const std::string& _biosName);
-	const bool isDevice(const std::string& _deviceName);
-	std::string getRealName(const std::string& _mameName);
+	std::string       getRealName(const std::string& _mameName);
+	const bool        isBios(const std::string& _biosName);
+	const bool        isDevice(const std::string& _deviceName);
 
 private:
 

From baa9cff697919f85571da6c22f3d0fd07c62f059 Mon Sep 17 00:00:00 2001
From: Rael Gugelmin Cunha <rael.gc@gmail.com>
Date: Wed, 25 Jul 2018 07:46:52 -0300
Subject: [PATCH 6/9] Removing unnecessary whitespace and trailing tabs

---
 es-app/src/Gamelist.cpp   | 4 ++--
 es-app/src/SystemData.cpp | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/es-app/src/Gamelist.cpp b/es-app/src/Gamelist.cpp
index 76ad1dc71..ba4812ab5 100644
--- a/es-app/src/Gamelist.cpp
+++ b/es-app/src/Gamelist.cpp
@@ -133,11 +133,11 @@ void parseGamelist(SystemData* system)
 			//load the metadata
 			std::string defaultName = file->metadata.get("name");
 			file->metadata = MetaDataList::createFromXML(GAME_METADATA, fileNode, relativeTo);
-			
+
 			//make sure name gets set if one didn't exist
 			if(file->metadata.get("name").empty())
 				file->metadata.set("name", defaultName);
-			
+
 			file->metadata.resetChangedFlag();
 		}
 	}
diff --git a/es-app/src/SystemData.cpp b/es-app/src/SystemData.cpp
index 9400284b6..cd56b2145 100644
--- a/es-app/src/SystemData.cpp
+++ b/es-app/src/SystemData.cpp
@@ -117,7 +117,7 @@ void SystemData::populateFolder(FileData* folder)
 			if(!newGame->isArcadeAsset())
 			{
 				folder->addChild(newGame);
-				isGame = true;				
+				isGame = true;
 			}
 		}
 

From ea0b08d3ea7a60c09f50dbdec9c77efeb68b01e6 Mon Sep 17 00:00:00 2001
From: Rael Gugelmin Cunha <rael.gc@gmail.com>
Date: Mon, 30 Jul 2018 18:25:38 -0300
Subject: [PATCH 7/9] Checking on FileData instead of parent

---
 es-app/src/FileData.cpp | 2 +-
 es-app/src/Gamelist.cpp | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/es-app/src/FileData.cpp b/es-app/src/FileData.cpp
index 0f699ca3a..c9c5330b8 100644
--- a/es-app/src/FileData.cpp
+++ b/es-app/src/FileData.cpp
@@ -199,7 +199,7 @@ std::string FileData::getKey() {
 const bool FileData::isArcadeAsset()
 {
 	const std::string stem = Utils::FileSystem::getStem(mPath);
-	return ( 
+	return (
 		(mSystem && (mSystem->hasPlatformId(PlatformIds::ARCADE) || mSystem->hasPlatformId(PlatformIds::NEOGEO)))
 		&&
 		(MameNames::getInstance()->isBios(stem) || MameNames::getInstance()->isDevice(stem))
diff --git a/es-app/src/Gamelist.cpp b/es-app/src/Gamelist.cpp
index ba4812ab5..0516fbe02 100644
--- a/es-app/src/Gamelist.cpp
+++ b/es-app/src/Gamelist.cpp
@@ -50,9 +50,9 @@ FileData* findOrCreateFile(SystemData* system, const std::string& path, FileType
 			FileData* file = new FileData(type, path, system->getSystemEnvData(), system);
 
 			// skipping arcade assets from gamelist
-			if(!treeNode->isArcadeAsset())
+			if(!file->isArcadeAsset())
 			{
-				treeNode->addChild(file);
+				file->addChild(file);
 			}
 			return file;
 		}

From ad26ad1096ad1c41d75a26d604edaa3be16c80e5 Mon Sep 17 00:00:00 2001
From: Rael Gugelmin Cunha <rael.gc@gmail.com>
Date: Mon, 30 Jul 2018 18:33:05 -0300
Subject: [PATCH 8/9] Fixing who is adding who

---
 es-app/src/Gamelist.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/es-app/src/Gamelist.cpp b/es-app/src/Gamelist.cpp
index 0516fbe02..b14bfd206 100644
--- a/es-app/src/Gamelist.cpp
+++ b/es-app/src/Gamelist.cpp
@@ -52,7 +52,7 @@ FileData* findOrCreateFile(SystemData* system, const std::string& path, FileType
 			// skipping arcade assets from gamelist
 			if(!file->isArcadeAsset())
 			{
-				file->addChild(file);
+				treeNode->addChild(file);
 			}
 			return file;
 		}

From be98c9a68f0d4d40d3ea898baa6f5ef8b84da332 Mon Sep 17 00:00:00 2001
From: Rael Gugelmin Cunha <rael.gc@gmail.com>
Date: Mon, 10 Sep 2018 20:32:56 -0300
Subject: [PATCH 9/9] Avoiding the error log but avoid keep adding metadata
 (#432)

---
 es-app/src/Gamelist.cpp | 17 +++++++++--------
 1 file changed, 9 insertions(+), 8 deletions(-)

diff --git a/es-app/src/Gamelist.cpp b/es-app/src/Gamelist.cpp
index b14bfd206..01259431e 100644
--- a/es-app/src/Gamelist.cpp
+++ b/es-app/src/Gamelist.cpp
@@ -129,16 +129,17 @@ void parseGamelist(SystemData* system)
 				LOG(LogError) << "Error finding/creating FileData for \"" << path << "\", skipping.";
 				continue;
 			}
+			else if(!file->isArcadeAsset())
+			{
+				std::string defaultName = file->metadata.get("name");
+				file->metadata = MetaDataList::createFromXML(GAME_METADATA, fileNode, relativeTo);
 
-			//load the metadata
-			std::string defaultName = file->metadata.get("name");
-			file->metadata = MetaDataList::createFromXML(GAME_METADATA, fileNode, relativeTo);
-
-			//make sure name gets set if one didn't exist
-			if(file->metadata.get("name").empty())
-				file->metadata.set("name", defaultName);
+				//make sure name gets set if one didn't exist
+				if(file->metadata.get("name").empty())
+					file->metadata.set("name", defaultName);
 
-			file->metadata.resetChangedFlag();
+				file->metadata.resetChangedFlag();
+			}
 		}
 	}
 }
